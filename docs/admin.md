/\*\*

- 管理后台开发计划文档
- 创建日期: 2024-06-19
- 作者: aiftt
- 邮箱: ftt.loves@gmail.com
  \*/

# 管理后台开发计划

## 已完成功能

### 基础架构

- [x] MongoDB数据库连接工具(server/utils/db.ts)
- [x] 用户模型设计与实现(server/models/user.ts)
- [x] 管理后台布局(layouts/admin.vue)，包含侧边栏和顶部导航
- [x] 数据库初始化脚本(scripts/init-database.ts)，创建基础用户、角色、菜单和字典数据

### 用户认证

- [x] 用户认证API(login.post.ts, current-user.get.ts)
- [x] 登录页面(pages/login.vue)
- [x] 认证中间件(server/middleware/auth.ts)
- [x] 认证工具函数(composables/useAuth.ts)
- [x] 全局认证中间件(middleware/auth.global.ts)

### 用户管理

- [x] 用户CRUD相关API接口(users/\*.ts)
- [x] 管理后台首页(pages/admin/index.vue)

## 待开发功能

### 后台系统

- [ ] 完善用户管理页面，支持更多操作和筛选功能
- [ ] 角色管理功能，包括角色列表、新增/编辑/删除角色，权限分配
- [ ] 菜单管理功能，包括菜单列表、新增/编辑/删除菜单，菜单排序
- [ ] 字典管理功能，包括字典列表、字典项管理，支持动态数据选择

### 辅助功能

- [ ] 系统监控，包括接口访问日志，系统资源使用情况
- [ ] 系统配置管理，支持修改系统参数
- [ ] 操作日志记录与查询

### 业务功能

- [ ] 待定，根据业务需求开发

## 数据库初始化说明

为了便于开发和测试，已添加数据库初始化脚本，创建系统必要的基础数据。

### 初始化内容

1. **用户数据**

   - 管理员用户: 用户名 admin，密码 admin123
   - 测试用户: 用户名 test，密码 test123

2. **角色数据**

   - 系统管理员角色: 拥有所有权限
   - 普通用户角色: 拥有基本权限

3. **菜单数据**

   - 仪表盘: 系统首页
   - 系统管理:
     - 用户管理
     - 角色管理
     - 菜单管理
     - 字典管理

4. **字典数据**
   - 用户状态字典: 正常/禁用
   - 菜单类型字典: 菜单/按钮

### 使用方法

执行以下命令初始化数据库:

```bash
pnpm tsx scripts/init-database.ts
```

注意: 脚本会检查数据是否已存在，不会重复创建。初次安装系统时，需要先运行此脚本创建基础数据。
